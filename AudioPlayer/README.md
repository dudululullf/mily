# 本地安卓音频播放器应用

## 功能特点

- **文件夹导入**：支持导入手机存储中的任意文件夹，仅读取直接子文件中的MP3文件
- **自然排序**：导入时按文件名自然排序生成播放列表
- **播放列表管理**：支持删除播放列表，点击进入播放详情页
- **播放进度记忆**：每个文件夹独立维护播放状态，支持断点续播
- **后台播放**：支持后台播放，并在通知栏显示播放控制
- **音频焦点处理**：当有其他应用播放声音时，自动暂停

## 技术栈

- **语言**：Kotlin
- **架构**：MVVM
- **媒体播放**：ExoPlayer (AndroidX Media3)
- **数据存储**：Room 数据库
- **UI**：Material Design 3

## 如何使用

1. **打开项目**：使用 Android Studio 打开项目文件夹
2. **同步依赖**：等待 Android Studio 自动同步 Gradle 依赖
3. **运行应用**：点击 "Run" 按钮运行应用
4. **导入音频**：点击 "导入文件夹" 按钮，选择包含 MP3 文件的文件夹
5. **开始播放**：点击播放列表项，进入播放详情页开始播放

## 权限说明

- **存储权限**：用于读取音频文件
- **通知权限**：用于显示后台播放控制（Android 13+ 需要）

## 注意事项

- 仅支持 MP3 格式的音频文件
- 导入时不递归读取子文件夹
- 播放列表仅存储数据库记录，不删除源音频文件
- 当导入的文件夹被删除时，下次进入会提示并询问是否移除该列表
- 当音频文件在播放前被删除时，会自动跳过并播放下一首

## 项目结构

```
AudioPlayer/
├── app/
│   ├── src/main/java/com/audioplayer/
│   │   ├── db/           # Room 数据库相关
│   │   ├── models/       # 数据模型
│   │   ├── service/      # 后台服务
│   │   ├── ui/           # 界面相关
│   │   └── utils/        # 工具类
│   ├── src/main/res/      # 资源文件
│   └── build.gradle       # 模块配置
└── build.gradle           # 项目配置
```
